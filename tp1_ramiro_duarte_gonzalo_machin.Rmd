
# Trabajo Practico NÂ° 1 

### Elaborado por Ramiro Duarte y Gonzalo Machin 

### se puede acceder a este trabajo practico tambien en el siguiente [Link](https://github.com/gmachin11/tp1_ciencia_de_datos_2)

# Analisis de viajes en omnibus en la ciudad de Montevideo

#### Librerias

```{r}
library(tidyverse)
library(lubridate)
library(sf)
library(mapview)
```

Primero descargamos datos de los viajes realizados en el sistema de transporte metropolitano en Montevideo, como el archivo es grande lo descargamos y descomprimimos directamente de la pagina del catalogo de datos abiertos

```{r}
temp <- tempfile()
download.file("https://catalogodatos.gub.uy/dataset/b1b22d81-9333-4a1b-8254-589268a698bf/resource/aa84ab90-7934-49ae-a330-57403f7e4e2e/download/viajes_stm_072022.zip",temp)
datos_julio <- read.csv(unz(temp, "viajes_stm_072022.csv"))
unlink(temp)
```

Cargamos Shapefiles con recorridos de los omnibus, paradas y Zonas censales para contextualizar geograficamente los datos previos dado que no se cuenta en los mismos con un x e y

```{r}
zonas_censales <- st_read("data/censo/ine_seg_11.shp")
paradas <- st_read("data/paradas_shp/v_uptu_paradas.shp")
recorridos <- st_read("data/recorridos/v_uptu_lsv.shp")
recorridos_no_maximales <- st_read("data/recorridos_no_maximales/uptu_variante_no_maximal.shp")
```

Corregimos crs y cambiamos todos para trabajar unicamente en CRS = 4326

```{r}
zonas_censales <- zonas_censales %>%
  st_set_crs(32721) %>%
  st_transform(4326)

paradas <- paradas %>%
  st_transform(4326)

recorridos <- recorridos %>%
  st_transform(4326)

recorridos_no_maximales <- recorridos_no_maximales %>%
  st_transform(4326)
```

Filtramos los datos de las zonas censales para unicamente trabajar con los datos del departamento de Montevideo

```{r}

```

